<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:pls="http://www.w3.org/2005/01/pronunciation-lexicon" xmlns:ssml="http://www.w3.org/2001/10/synthesis" xmlns:svg="http://www.w3.org/2000/svg"><head><title>Chapter 2. Exploring the Arduino Board and the IDE</title><link rel="stylesheet" type="text/css" href="core.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/><link rel="up" href="index.html" title="Arduino Workshop: A hands-on introduction with 65 projects"/><link rel="prev" href="ch01.html" title="Chapter 1. Getting Started"/><link rel="next" href="ch03.html" title="Chapter 3. First Steps"/></head><body><section class="chapter" title="Chapter 2. Exploring the Arduino Board and the IDE" epub:type="chapter" id="exploring_the_arduino_board_and_the_ide"><div class="titlepage"><div><div><h2 class="title">Chapter 2. Exploring the Arduino Board and the IDE</h2></div></div></div><p>In this chapter you’ll explore the Arduino board as well as the IDE software that you’ll use to create and upload Arduino <span class="emphasis"><em>sketches</em></span> (Arduino’s name for its programs) to the Arduino board itself. You’ll learn the basic framework of a sketch and some basic functions that you can implement in a sketch, and you’ll create and upload your first sketch.</p><div class="sect1" title="The Arduino Board"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="arduino_board-id00008">The Arduino Board</h2></div></div></div><p>What exactly is Arduino? According to the Arduino website (<span class="emphasis"><em><a class="ulink" href="http://www.arduino.cc/" target="_top">http://www.arduino.cc/</a></em></span>), it is</p><div class="blockquote"><blockquote class="blockquote"><p>an open-source electronics prototyping platform based on flexible, easy-to-use hardware and software. It’s intended for artists, designers, hobbyists, and anyone interested in creating interactive objects or environments.</p></blockquote></div><p><a id="iddle1057" class="indexterm"/><a id="iddle1060" class="indexterm"/><a id="iddle1063" class="indexterm"/>In simple terms, the Arduino is a tiny computer system that can be programmed with your instructions to interact with various forms of input and output. The current Arduino board model, the Uno, is quite small in size compared to the average human hand, as you can see in <a class="xref" href="ch02.html#arduino_uno_is_quite_small" title="Figure 2-1. An Arduino Uno is quite small.">Figure 2-1</a>.</p><div class="figure"><a id="arduino_uno_is_quite_small"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00029"/><img src="httpatomoreillycomsourcenostarchimages1629820.png.jpg" alt="An Arduino Uno is quite small."/></div></div><div class="figure-title">Figure 2-1. An Arduino Uno is quite small.</div></div><p>Although it might not look like much to the new observer, the Arduino system allows you to create devices that can interact with the world around you. By using an almost unlimited range of input and output devices, sensors, indicators, displays, motors, and more, you can program the exact interactions required to create a functional device. For example, artists have created installations with patterns of blinking lights that respond to the movements of passers-by, high school students have built autonomous robots that can detect an open flame and extinguish it, and geographers have designed systems that monitor temperature and humidity and transmit this data back to their offices via text message. In fact, you’ll find an almost infinite number of examples with a quick search on the Internet.</p><p>Now let’s move on and explore our Arduino Uno <span class="emphasis"><em>hardware</em></span> (in other words, the “physical part”) in more detail and see what we have. Don’t worry too much about understanding what you see here, because all these things will be discussed in greater detail in later chapters.</p><p><a id="iddle1072" class="indexterm"/>Let’s take a quick tour of the Uno. Starting at the left side of the board, you’ll see two connectors, as shown in <a class="xref" href="ch02.html#usb_and_power_connectors" title="Figure 2-2. The USB and power connectors">Figure 2-2</a>.</p><div class="figure"><a id="usb_and_power_connectors"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00030"/><img src="httpatomoreillycomsourcenostarchimages1629822.png.jpg" alt="The USB and power connectors"/></div></div><div class="figure-title">Figure 2-2. The USB and power connectors</div></div><p>On the far left is the Universal Serial Bus (USB) connector. This connects the board to your computer for three reasons: to supply power to the board, to upload your instructions to the Arduino, and to send data to and receive it from a computer. On the right is the power connector. Through this connector, you can power the Arduino with a standard mains power adapter.</p><p>At the lower middle is the heart of the board: the microcontroller, as shown in <a class="xref" href="ch02.html#microcontroller" title="Figure 2-3. The microcontroller">Figure 2-3</a>.</p><div class="figure"><a id="microcontroller"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00031"/><img src="httpatomoreillycomsourcenostarchimages1629824.png.jpg" alt="The microcontroller"/></div></div><div class="figure-title">Figure 2-3. The microcontroller</div></div><p>The <span class="emphasis"><em>microcontroller</em></span> is the “brains” of the Arduino. It is a tiny computer that contains a processor to execute instructions, includes various types of memory to hold data and instructions from our sketches, and provides various avenues of sending and receiving data. Just below the microcontroller are two rows of small sockets, as shown in <a class="xref" href="ch02.html#power_and_analog_sockets" title="Figure 2-4. The power and analog sockets">Figure 2-4</a>.</p><div class="figure"><a id="power_and_analog_sockets"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00032"/><img src="httpatomoreillycomsourcenostarchimages1629826.png.jpg" alt="The power and analog sockets"/></div></div><div class="figure-title">Figure 2-4. The power and analog sockets</div></div><p><a id="iddle1058" class="indexterm"/><a id="iddle1061" class="indexterm"/><a id="iddle1062" class="indexterm"/><a id="iddle1064" class="indexterm"/><a id="iddle1323" class="indexterm"/>The first row offers power connections and the ability to use an external RESET button. The second row offers six analog inputs that are used to measure electrical signals that vary in voltage. Furthermore, pins A4 and A5 can also be used for sending data to and receiving it from other devices. Along the top of the board are two more rows of sockets, as shown in <a class="xref" href="ch02.html#digital_inputsolidusoutput_pins" title="Figure 2-5. The digital input/output pins">Figure 2-5</a>.</p><div class="figure"><a id="digital_inputsolidusoutput_pins"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00033"/><img src="httpatomoreillycomsourcenostarchimages1629828.png.jpg" alt="The digital input/output pins"/></div></div><div class="figure-title">Figure 2-5. The digital input/output pins</div></div><p>Sockets (or pins) numbered 0 to 13 are digital input/output (I/O) pins. They can either detect whether or not an electrical signal is present or generate a signal on command. Pins 0 and 1 are also known as the <span class="emphasis"><em>serial port</em></span>, which is used to send and receive data to other devices, such as a computer via the USB connector circuitry. The pins labeled with a tilde (~) can also generate a varying electrical signal, which can be useful for such things as creating lighting effects or controlling electric motors.</p><p>Next are some very useful devices called <span class="emphasis"><em>light-emitting diodes (LEDs)</em></span>; these very tiny devices light up when a current passes through them. The Arduino board has four LEDs: one on the far right labeled ON, which indicates when the board has power, and three in another group, as shown in <a class="xref" href="ch02.html#onboard_leds" title="Figure 2-6. The onboard LEDs">Figure 2-6</a>.</p><p>The LEDs labeled <span class="emphasis"><em>TX</em></span> and <span class="emphasis"><em>RX</em></span> light up when data is being transmitted or received between the Arduino and attached devices via the serial port and USB. The <span class="emphasis"><em>L</em></span> LED is for your own use (it is connected to the digital I/O pin number 13). The little black square part to the left of the LEDs is a tiny microcontroller that controls the USB interface that allows your Arduino to send data to and receive it from a computer, but you don’t generally have to concern yourself with it.</p><div class="figure"><a id="onboard_leds"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00034"/><img src="httpatomoreillycomsourcenostarchimages1629830.png.jpg" alt="The onboard LEDs"/></div></div><div class="figure-title">Figure 2-6. The onboard LEDs</div></div><p><a id="iddle1045" class="indexterm"/><a id="iddle1065" class="indexterm"/><a id="iddle1460" class="indexterm"/>And, finally, the RESET button is shown in <a class="xref" href="ch02.html#reset_button" title="Figure 2-7. The RESET button">Figure 2-7</a>.</p><div class="figure"><a id="reset_button"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00035"/><img src="httpatomoreillycomsourcenostarchimages1629832.png.jpg" alt="The RESET button"/></div></div><div class="figure-title">Figure 2-7. The RESET button</div></div><p>As with a normal computer, sometimes things can go wrong with the Arduino, and when all else fails, you might need to reset the system and restart your Arduino. This simple RESET button on the board (<a class="xref" href="ch02.html#reset_button" title="Figure 2-7. The RESET button">Figure 2-7</a>) is used to restart the system to resolve these problems.</p><p>One of the great advantages of the Arduino system is its ease of expandability—that is, it’s easy to add more hardware functions. The two rows of sockets along each side of the Arduino allow the connection of a <span class="emphasis"><em>shield</em></span>, another circuit board with pins that allow it to plug into the Arduino. For example, the shield shown in <a class="xref" href="ch02.html#arduino_ethernet_interface_shield" title="Figure 2-8. Arduino Ethernet interface shield">Figure 2-8</a> contains an Ethernet interface that allows the Arduino to communicate over networks and the Internet, with plenty of space for custom circuitry.</p><p>Notice how the Ethernet shield also has rows of sockets. These enable you to insert one or more shields on top. For example, <a class="xref" href="ch02.html#numeric_display_and_temperature_shield" title="Figure 2-9. Numeric display and temperature shield">Figure 2-9</a> shows that another shield with a large numeric display, temperature sensor, extra data storage space, and a large LED has been inserted.</p><p>Note that you do need to remember which shield uses which individual inputs and outputs to ensure that “clashes” do not occur. You can also purchase completely blank shields that allow you to add your own circuitry. This will be explained further in <a class="xref" href="ch08.html" title="Chapter 8. Expanding Your Arduino">Chapter 8</a>.</p><div class="figure"><a id="arduino_ethernet_interface_shield"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00036"/><img src="httpatomoreillycomsourcenostarchimages1629834.png.jpg" alt="Arduino Ethernet interface shield"/></div></div><div class="figure-title">Figure 2-8. Arduino Ethernet interface shield</div></div><div class="figure"><a id="numeric_display_and_temperature_shield"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00037"/><img src="httpatomoreillycomsourcenostarchimages1629836.png.jpg" alt="Numeric display and temperature shield"/></div></div><div class="figure-title">Figure 2-9. Numeric display and temperature shield</div></div><p><a id="iddle1213" class="indexterm"/><a id="iddle1461" class="indexterm"/><a id="iddle1464" class="indexterm"/><a id="iddle1271" class="indexterm"/><a id="iddle1285" class="indexterm"/><a id="iddle1286" class="indexterm"/><a id="iddle1287" class="indexterm"/><a id="iddle1293" class="indexterm"/><a id="iddle1295" class="indexterm"/><a id="iddle1297" class="indexterm"/>The companion to the Arduino hardware is the <span class="emphasis"><em>software</em></span>, a collection of instructions that tell the hardware what to do and how to do it. Two types of software can be used: The first is the integrated development environment (IDE), which is discussed in this chapter, and the second is the Arduino sketch you create yourself.</p><p>The IDE software is installed on your personal computer and is used to compose and send sketches to the Arduino board.</p></div><div class="sect1" title="Taking a Look Around the IDE"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="taking_a_look_around_the_ide">Taking a Look Around the IDE</h2></div></div></div><p>As shown in <a class="xref" href="ch02.html#arduino_ide" title="Figure 2-10. The Arduino IDE">Figure 2-10</a>, the Arduino IDE resembles a simple word processor. The IDE is divided into three main areas: the command area, the text area, and the message window area.</p><div class="figure"><a id="arduino_ide"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00038"/><img src="httpatomoreillycomsourcenostarchimages1629838.png.jpg" alt="The Arduino IDE"/></div></div><div class="figure-title">Figure 2-10. The Arduino IDE</div></div><div class="sect2" title="The Command Area"><div class="titlepage"><div><div><h3 class="title" id="command_area">The Command Area</h3></div></div></div><p>The command area is shown at the top of <a class="xref" href="ch02.html#arduino_ide" title="Figure 2-10. The Arduino IDE">Figure 2-10</a> and includes the title bar, menu items, and icons. The title bar displays the sketch’s filename (<span class="emphasis"><em>sketch_mar22a</em></span>), as well as the version of the IDE (<span class="emphasis"><em>Arduino 1.0</em></span>). Below this is a series of menu items (File, Edit, Sketch, Tools, and Help) and icons, as described next.</p><div class="sect3" title="Menu Items"><div class="titlepage"><div><div><h4 class="title" id="menu_items">Menu Items</h4></div></div></div><p><a id="iddle1288" class="indexterm"/><a id="iddle1294" class="indexterm"/><a id="iddle1296" class="indexterm"/><a id="iddle1298" class="indexterm"/>As with any word processor or text editor, you can click one of the menu items to display its various options.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none"><p title="File"><span class="title"><strong><span class="strong"><strong>File</strong></span></strong></span>. Contains options to save, load, and print sketches; a thorough set of example sketches to open; as well as the <span class="strong"><strong>Preferences</strong></span> submenu</p></li><li class="listitem" style="list-style-type: none"><p title="Edit"><span class="title"><strong><span class="strong"><strong>Edit</strong></span></strong></span>. Contains the usual copy, paste, and search functions common to any word processor</p></li><li class="listitem" style="list-style-type: none"><p title="Sketch"><span class="title"><strong><span class="strong"><strong>Sketch</strong></span></strong></span>. Contains the function to verify your sketch before uploading to a board, and some sketch folder and import options</p></li><li class="listitem" style="list-style-type: none"><p title="Tools"><span class="title"><strong><span class="strong"><strong>Tools</strong></span></strong></span>. Contains a variety of functions as well as the commands to select the Arduino board type and USB port</p></li><li class="listitem" style="list-style-type: none"><p title="Help"><span class="title"><strong><span class="strong"><strong>Help</strong></span></strong></span>. Contains links to various topics of interest and the version of the IDE</p></li></ul></div></div><div class="sect3" title="The Icons"><div class="titlepage"><div><div><h4 class="title" id="icons">The Icons</h4></div></div></div><p>Below the menu toolbar are six icons. Mouse over each icon to display its name. The icons, from left to right, are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none"><p title="Verify"><span class="title"><strong><span class="strong"><strong>Verify</strong></span></strong></span>. Click this to check that the Arduino sketch is valid and doesn’t contain any programming mistakes.</p></li><li class="listitem" style="list-style-type: none"><p title="Upload"><span class="title"><strong><span class="strong"><strong>Upload</strong></span></strong></span>. Click this to verify and then upload your sketch to the Arduino board.</p></li><li class="listitem" style="list-style-type: none"><p title="New"><span class="title"><strong><span class="strong"><strong>New</strong></span></strong></span>. Click this to open a new blank sketch in a new window.</p></li><li class="listitem" style="list-style-type: none"><p title="Open"><span class="title"><strong><span class="strong"><strong>Open</strong></span></strong></span>. Click this to open a saved sketch.</p></li><li class="listitem" style="list-style-type: none"><p title="Save"><span class="title"><strong><span class="strong"><strong>Save</strong></span></strong></span>. Click this to save the open sketch. If the sketch doesn’t have a name, you will be prompted to create one.</p></li><li class="listitem" style="list-style-type: none"><p title="Serial Monitor"><span class="title"><strong><span class="strong"><strong>Serial Monitor</strong></span></strong></span>. Click this to open a new window for use in sending and receiving data between your Arduino and the IDE.</p></li></ul></div></div></div><div class="sect2" title="The Text Area"><div class="titlepage"><div><div><h3 class="title" id="text_area">The Text Area</h3></div></div></div><p>The text area is shown in the middle of <a class="xref" href="ch02.html#arduino_ide" title="Figure 2-10. The Arduino IDE">Figure 2-10</a>; this is where you’ll create your sketches. The name of the current sketch is displayed in the tab at the upper left of the text area. (The default name is the current date.) You’ll enter the contents of your sketch here as you would in any text editor.</p></div><div class="sect2" title="The Message Window Area"><div class="titlepage"><div><div><h3 class="title" id="message_window_area">The Message Window Area</h3></div></div></div><p>The message window area is shown at the bottom of <a class="xref" href="ch02.html#arduino_ide" title="Figure 2-10. The Arduino IDE">Figure 2-10</a>. Messages from the IDE appear in the black area. The messages you see will vary and will include messages about verifying sketches, status updates, and so on.</p><p><a id="iddle1004" class="indexterm"/><a id="iddle1009" class="indexterm"/><a id="iddle1010" class="indexterm"/><a id="iddle1046" class="indexterm"/><a id="iddle1047" class="indexterm"/><a id="iddle1128" class="indexterm"/><a id="iddle1473" class="indexterm"/><a id="iddle1474" class="indexterm"/>At the bottom right of the message area, you should see the name of your Arduino board type as well as its connected USB port—<span class="emphasis"><em>Arduino Duemilanove w/ATmega328 on COM6</em></span> in this case.</p></div></div><div class="sect1" title="Creating Your First Sketch in the IDE"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="creating_your_first_sketch_in_the_ide">Creating Your First Sketch in the IDE</h2></div></div></div><p>An Arduino sketch is a set of instructions that you create to accomplish a particular task; in other words, a sketch is a <span class="emphasis"><em>program</em></span>. In this section you’ll create and upload a simple sketch that will cause the Arduino’s LED (shown in <a class="xref" href="ch02.html#led_on_the_arduino_boardcomma_next_to_th" title="Figure 2-11. The LED on the Arduino board, next to the capital L">Figure 2-11</a>) to blink repeatedly, by turning it on and then off for 1 second intervals.</p><div class="figure"><a id="led_on_the_arduino_boardcomma_next_to_th"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00039"/><img src="httpatomoreillycomsourcenostarchimages1629840.png.jpg" alt="The LED on the Arduino board, next to the capital L"/></div></div><div class="figure-title">Figure 2-11. The LED on the Arduino board, next to the capital L</div></div><div class="note" title="Note"><h3 class="title"><a id="ch02note01"/>Note</h3><p><span class="emphasis"><em>Don’t worry too much about the specific commands in the sketch we’re creating here. The goal is to show you how easy it is to get the Arduino to do something so that you’ll keep reading when you get to the harder stuff.</em></span></p></div><p>To begin, connect your Arduino to the computer with the USB cable. Then open the IDE, choose <span class="strong"><strong>Tools</strong></span> ▸ <span class="strong"><strong>Serial Port</strong></span>, and make sure the USB port is selected. This ensures that the Arduino board is properly connected.</p><div class="sect2" title="Comments"><div class="titlepage"><div><div><h3 class="title" id="comments">Comments</h3></div></div></div><p>First, enter a comment as a reminder of what your sketch will be used for. A <span class="emphasis"><em>comment</em></span> is a note of any length in a sketch, written for the user’s benefit. Comments in sketches are useful for adding notes to yourself or others, for entering instructions, or for noting miscellaneous details. When programming your Arduino (creating sketches), it’s a good idea to add comments regarding your intentions; these comments can prove useful later when you’re revisiting a sketch.</p><p>To add a comment on a single line, enter two forward slashes and then the comment, like this:</p><a id="pro_id00001"/><pre class="programlisting">// Blink LED sketch by Mary Smith, created 09/09/12</pre><p>The two forward slashes tell the IDE to ignore the text that follows when verifying a sketch. (As mentioned earlier, when you verify a sketch, you’re asking the IDE to check that everything is written properly with no errors.)</p><p>To enter a comment that spans two or more lines, enter the characters <span class="strong"><strong><code class="literal">/*</code></strong></span> on a line before the comment, and then end the comment with the characters <span class="strong"><strong><code class="literal">*/</code></strong></span> on the following line, like this:</p><a id="pro_id00002"/><pre class="programlisting">/*
Arduino Blink LED Sketch
by Mary Smith, created 09/09/12
*/</pre><p><a id="iddle1150" class="indexterm"/><a id="iddle1346" class="indexterm"/><a id="iddle1382" class="indexterm"/><a id="iddle1459" class="indexterm"/><a id="iddle1558" class="indexterm"/><a id="iddle1559" class="indexterm"/>As with the two forward slashes that precede a single line comment, the <code class="literal">/*</code> and <code class="literal">*/</code> tell the IDE to ignore the text that they bracket.</p><p>Enter a comment describing your Arduino sketch using one of these methods, and then save your sketch by choosing <span class="strong"><strong>File</strong></span> ▸ <span class="strong"><strong>Save As</strong></span>. Enter a short name for your sketch (such as <span class="emphasis"><em>blinky</em></span>), and then click <span class="strong"><strong>OK</strong></span>.</p><p>The default filename extension for Arduino sketches is <span class="emphasis"><em>.ino</em></span>, and the IDE should add this automatically. The name for your sketch should be, in this case, <span class="emphasis"><em>blinky.ino</em></span>, and you should be able to see it in your Sketchbook.</p></div><div class="sect2" title="The Setup Function"><div class="titlepage"><div><div><h3 class="title" id="setup_function">The Setup Function</h3></div></div></div><p>The next stage in creating any sketch is to add the <code class="literal">void setup()</code> function. This function contains a set of instructions for the Arduino to execute once only, each time it is reset or turned on. To create the <code class="literal">setup</code> function, add the following lines to your sketch, after the comments:</p><a id="pro_id00003"/><pre class="programlisting"><span class="strong"><strong>void setup()</strong></span>
<span class="strong"><strong>{</strong></span>

<span class="strong"><strong>}</strong></span></pre></div><div class="sect2" title="Controlling the Hardware"><div class="titlepage"><div><div><h3 class="title" id="controlling_the_hardware">Controlling the Hardware</h3></div></div></div><p>Our program will blink the user LED on the Arduino. The user LED is connected to the Arduino’s digital pin 13. A digital pin can either detect an electrical signal or generate one on command. In this project, we’ll generate an electrical signal that will light the LED. This may seem a little complicated, but you’ll learn more about digital pins in future chapters. For now, just continue with creating the sketch.</p><p>Enter the following into your sketch between the braces (<code class="literal">{</code> and <code class="literal">}</code>):</p><a id="pro_id00004"/><pre class="programlisting">pinMode(13, OUTPUT); // set digital pin 13 to output</pre><p>The number <code class="literal">13</code> in the listing represents the digital pin you’re addressing. You’re setting this pin to <code class="literal">OUTPUT</code>, which means it will generate (output) an electrical signal. If you wanted it to detect an incoming electrical signal, then you would use <code class="literal">INPUT</code> instead. Notice that the function <code class="literal">pinMode()</code> ends with a semicolon (<code class="literal">;</code>). Every function in your Arduino sketches will end with a semicolon.</p><p>Save your sketch again to make sure that you don’t lose any of your work.</p></div><div class="sect2" title="The Loop Function"><div class="titlepage"><div><div><h3 class="title" id="loop_function">The Loop Function</h3></div></div></div><p>Remember that our goal is to make the LED blink repeatedly. To do this, we’ll create a <code class="literal">loop</code> function to tell the Arduino to execute an instruction over and over until the power is shut off or someone presses the RESET button.</p><p>Enter the code shown in boldface after the <code class="literal">void setup()</code> section in the following listing to create an empty <code class="literal">loop</code> function. Be sure to end this new section with another brace (<code class="literal">}</code>), and then save your sketch again.</p><a id="pro_id00005"/><pre class="programlisting">/*
Arduino Blink LED Sketch
by Mary Smith, created 09/09/12
*/

void setup()
{
  pinMode(13, OUTPUT); // set digital pin 13 to output
}
<span class="strong"><strong>void loop()</strong></span>
<span class="strong"><strong>{</strong></span>
<span class="strong"><strong>  // place your main loop code here:</strong></span>
<span class="strong"><strong>}</strong></span></pre><div class="warning" title="Warning" epub:type="warning"><h3 class="title"><a id="ch02note02"/>Warning</h3><p><a id="iddle1096" class="indexterm"/><a id="iddle1143" class="indexterm"/><a id="iddle1154" class="indexterm"/><span class="emphasis"><em>The Arduino IDE does not automatically save sketches, so save your work frequently!</em></span></p></div><p>Next, enter the actual functions into <code class="literal">void loop()</code> for the Arduino to execute.</p><p>Enter the following between the <code class="literal">loop</code> function’s braces, and then click <span class="strong"><strong>Verify</strong></span> to make sure that you’ve entered everything correctly:</p><a id="pro_id00006"/><pre class="programlisting"><span class="strong"><strong>digitalWrite(13, HIGH); // turn on digital pin 13</strong></span>
<span class="strong"><strong>delay(1000); // pause for one second</strong></span>
<span class="strong"><strong>digitalWrite(13, LOW); // turn off digital pin 13</strong></span>
<span class="strong"><strong>delay(1000); // pause for one second</strong></span></pre><p>Let’s take this all apart. The <code class="literal">digitalWrite()</code> function controls the voltage that is output from a digital pin: in this case, pin 13 to the LED. By setting the second parameter of this function to <code class="literal">HIGH</code>, a “high” digital voltage is output; then current will flow from the pin and the LED will turn on. (If you were to set this parameter to <code class="literal">LOW</code>, then the current flowing through the LED would stop.)</p><p>With the LED turned on, the light pauses for 1 second with <code class="literal">delay(1000)</code>. The <code class="literal">delay()</code> function causes the sketch to do nothing for a period of time—in this case, 1,000 milliseconds, or 1 second.</p><p>Next, we turn off the voltage to the LED with <code class="literal">digitalWrite(13, LOW);</code>. Finally, we pause again for 1 second while the LED is off, with <code class="literal">delay(1000);</code>.</p><p>The completed sketch should look like this:</p><a id="pro_id00007"/><pre class="programlisting">/*
 Arduino Blink LED Sketch
 by Mary Smith, created 09/09/12
*/

void setup()
{
  pinMode(13, OUTPUT); // set digital pin 13 to output
}

void loop()
{
  digitalWrite(13, HIGH); // turn on digital pin 13
  delay(1000); // pause for one second
  digitalWrite(13, LOW); // turn off digital pin 13
  delay(1000); // pause for one second
}</pre><p><a id="iddle1048" class="indexterm"/><a id="iddle1049" class="indexterm"/><a id="iddle1134" class="indexterm"/><a id="iddle1475" class="indexterm"/><a id="iddle1476" class="indexterm"/><a id="iddle1557" class="indexterm"/>Before you do anything further, save your sketch!</p></div><div class="sect2" title="Verifying Your Sketch"><div class="titlepage"><div><div><h3 class="title" id="verifying_your_sketch">Verifying Your Sketch</h3></div></div></div><p>When you verify your sketch, you ensure that it has been written correctly in a way that the Arduino can understand. To verify your complete sketch, click <span class="strong"><strong>Verify</strong></span> in the IDE and wait a moment. Once the sketch has been verified, a note should appear in the message window, as shown in <a class="xref" href="ch02.html#sketch_has_been_verified" title="Figure 2-12. The sketch has been verified.">Figure 2-12</a>.</p><div class="figure"><a id="sketch_has_been_verified"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00040"/><img src="httpatomoreillycomsourcenostarchimages1629842.png.jpg" alt="The sketch has been verified."/></div></div><div class="figure-title">Figure 2-12. The sketch has been verified.</div></div><p>This “Done compiling” message tells you that the sketch is okay to upload to your Arduino. It also shows how much memory it will use (1,076 bytes in this case) of the total available on the Arduino (32,256 bytes).</p><p>But what if your sketch isn’t okay? Say, for example, you forgot to add a semicolon at the end of the second <code class="literal">delay(1000)</code> function. If something is broken in your sketch, then when you click <span class="strong"><strong>Verify</strong></span>, the message window should display a verification error message similar to the one shown in <a class="xref" href="ch02.html#message_window_with_a_verification_error" title="Figure 2-13. The message window with a verification error">Figure 2-13</a>.</p><div class="figure"><a id="message_window_with_a_verification_error"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00041"/><img src="httpatomoreillycomsourcenostarchimages1629844.png.jpg" alt="The message window with a verification error"/></div></div><div class="figure-title">Figure 2-13. The message window with a verification error</div></div><p><a id="iddle1549" class="indexterm"/>The message tells you that the error occurs in the <code class="literal">void loop</code> function, lists the line number of the sketch where the IDE thinks the error is located (<code class="literal">blinky:16</code>, or line 16 of your <span class="emphasis"><em>blinky</em></span> sketch), and displays the error itself (the missing semicolon, <code class="literal">error: expected ';' before '}' token</code>). Furthermore, the IDE should also highlight in yellow the location of the error or a spot just after it. This helps you easily locate and rectify the mistake.</p></div><div class="sect2" title="Uploading and Running Your Sketch"><div class="titlepage"><div><div><h3 class="title" id="uploading_and_running_your_sketch">Uploading and Running Your Sketch</h3></div></div></div><p>Once you’re satisfied that your sketch has been entered correctly, save it, ensure that your Arduino board is connected, and click <span class="strong"><strong>Upload</strong></span> in the IDE. The IDE may verify your sketch again and then upload it to your Arduino board. During this process, the TX/RX LEDs on your board (shown in <a class="xref" href="ch02.html#onboard_leds" title="Figure 2-6. The onboard LEDs">Figure 2-6</a>) should blink, indicating that information is traveling between the Arduino and your computer.</p><p>Now for the moment of truth: Your Arduino should start running the sketch. If you’ve done everything correctly, then the LED should blink on and off once every second!</p><p>Congratulations. You now know the basics of how to enter, verify, and upload an Arduino sketch.</p></div><div class="sect2" title="Modifying Your Sketch"><div class="titlepage"><div><div><h3 class="title" id="modifying_your_sketch">Modifying Your Sketch</h3></div></div></div><p>After running your sketch, you may want to change how it operates, by, for example, adjusting the on or off delay time for the LED. Because the IDE is a lot like a word processor, you can open your saved sketch, adjust the values, and then save your sketch again and upload it to the Arduino. For example, to increase the rate of blinking, change both <code class="literal">delay</code> functions to make the LEDs blink for one-quarter of a second by adjusting the delay to <code class="literal">250</code> like this:</p><a id="pro_id00008"/><pre class="programlisting"><span class="strong"><strong>  delay(250); // pause for one-quarter of one second</strong></span></pre><p>Then upload the sketch again. The LED should now blink faster, for one-quarter of a second each time.</p></div></div><div class="sect1" title="Looking Ahead"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="looking_ahead-id00009">Looking Ahead</h2></div></div></div><p>Armed with your newfound knowledge of how to enter, edit, save, and upload Arduino sketches, you’re ready for the next chapter, where you’ll learn how to use more functions, implement good project design, construct basic electronic circuits, and do much more.</p></div></section></body></html>
